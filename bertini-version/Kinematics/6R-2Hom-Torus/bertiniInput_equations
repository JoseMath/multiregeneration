  % joint 1 orientation (fixed)
  constant z1x,z1y,z1z;
  z1x=0; z1y=0; z1z=1;
  % link lengths
  constant a1,a2,a3,a4,a5;
  % link offsets
  constant d2,d3,d4,d5;
  % twist cosines
  constant c1,c2,c3,c4,c5;
  % endpoint position
  constant px,py,pz;
  % joint 6 orientation
  constant z6x,z6y,z6z;

  a1 = 0.40282466953766 + I*-0.915277163274533;
  a2 = -0.441132731217836 + I*-0.897441871904968;
  a3 = -0.779769296059636 + I*0.626066965206327;
  a4 = 0.729072696753179 + I*-0.684436266462442;
  a5 = 0.695171019668752 + I*-0.718844387480842;
  d2 = -0.459380161698167 + I*-0.888239757632007;
  d3 = 0.668737713881471 + I*0.743498399482194;
  d4 = -0.999466165089807 + I*-0.032670856136222;
  d5 = -0.34857474063187 + I*0.937280987854456;
  c1 = 0.635025374587385 + I*0.772491277381274;
  c2 = -0.779980017028727 + I*0.625804420754494;
  c3 = 0.41768199705475 + I*-0.908593280481622;
  c4 = -0.999990781765282 + I*-0.00429376110884451;
  c5 = 0.94468579013282 + I*-0.327976764300657;
  px = 0.294992145661207 + I*-0.95549967765468;
  py = 0.716114803848101 + I*-0.697982512466893;
  pz = 0.029910008436086 + I*0.999552595612334;
  z6x = 0.648134911847741 + I*0.761525532102582;
  z6y = 0.129553907279961 + I*-0.991572380166216;
  z6z = -0.822526507919616 + I*-0.568726774268244;



function f1, f2, f3, f4, f5, f6, f7, f8, f9, f10, f11, f12;


constant R11,R12,R13,R14,R15,R16;
constant R21,R22,R23,R24,R25,R26;
constant R31,R32,R33,R34,R35,R36;
constant R41,R42,R43,R44,R45,R46;
constant R51,R52,R53,R54,R55,R56;
constant R61,R62,R63,R64,R65,R66;

R11 = -0.922516800215975 + I*-0.385956931948733;
R12 = 0.19596435658481 + I*0.980611019185641;
R13 = -0.277378313879355 + I*0.960760777191412;
R14 = 0.422338903213614 + I*0.906438001648387;
R15 = 0.176390271271319 + I*-0.984320309757363;
R16 = -0.962624297110221 + I*0.27084028986296;
R21 = 0.964314552037777 + I*-0.264759220289267;
R22 = -0.868505212484915 + I*-0.495680033778377;
R23 = -0.845211607783632 + I*-0.534431789911312;
R24 = -0.910888561663027 + I*0.412652430298747;
R25 = -0.112700021993754 + I*0.993629058070771;
R26 = 0.0406588389527893 + I*0.999173087515377;
R31 = 0.288117337397179 + I*0.957595112712654;
R32 = -0.827218499160405 + I*0.561880373964786;
R33 = -0.775352236674055 + I*0.631529024736425;
R34 = 0.41165761352648 + I*-0.911338581003616;
R35 = -0.664230806921739 + I*-0.747527548078394;
R36 = 0.438078973755345 + I*0.898936489833105;
R41 = -0.484912181185362 + I*0.874562848821087;
R42 = 0.334911235072821 + I*-0.942249682739133;
R43 = 0.669922580609958 + I*-0.742430963786461;
R44 = 0.640442214220896 + I*-0.76800636080949;
R45 = -0.444610271495592 + I*-0.895724124092131;
R46 = -0.143178086511073 + I*0.989696941261833;
R51 = -0.529068818646833 + I*0.848578920982394;
R52 = -0.0615816214514005 + I*-0.998102050844209;
R53 = -0.825321623576495 + I*0.564662923926353;
R54 = -0.0761263519835225 + I*-0.997098178984237;
R55 = -0.828489833914108 + I*0.560004102753698;
R56 = -0.790999372406698 + I*0.611816960252173;
R61 = -0.524502554792334 + I*0.851408873583259;
R62 = -0.656290096284076 + I*0.75450865437014;
R63 = -0.825948302984368 + I*-0.563745865436939;
R64 = -0.983070565140129 + I*0.183227355913539;
R65 = 0.969199648876192 + I*0.246276350099365;
R66 = -0.457281300435069 + I*0.889322108278217;

constant S11,S12,S13,S14,S15,S16;
constant S21,S22,S23,S24,S25,S26;
constant S31,S32,S33,S34,S35,S36;
constant S41,S42,S43,S44,S45,S46;
constant S51,S52,S53,S54,S55,S56;
constant S61,S62,S63,S64,S65,S66;

S11 = 0.636200372702081 + I*0.771523872458742;
S12 = 0.29174940219518 + I*0.956494791579523;
S13 = -0.811911347439529 + I*0.583780749852998;
S14 = -0.569610658514124 + I*-0.821914653542024;
S15 = 0.906871352402828 + I*-0.42140758202845;
S16 = -0.246972642857365 + I*0.969022452619158;
S21 = 0.874674206033219 + I*-0.484711288604008;
S22 = 0.888120668119356 + I*-0.459610355474318;
S23 = 0.716486058078484 + I*0.697601410964137;
S24 = -0.90646836838755 + I*0.422273722972213;
S25 = 0.896099777434684 + I*0.443852665736626;
S26 = 0.843863982282427 + I*-0.536557153904823;
S31 = -0.431091247532169 + I*-0.902308337710097;
S32 = 0.949366142233134 + I*0.314171812837143;
S33 = -0.145834479247168 + I*0.989309003629658;
S34 = 0.29046110829102 + I*0.956886798200473;
S35 = 0.194736145790495 + I*0.980855663960128;
S36 = 0.0455170757221979 + I*0.998963560805748;
S41 = -0.580897287184333 + I*-0.813976868063143;
S42 = -0.666635154769392 + I*-0.745384176398714;
S43 = -0.879518641457546 + I*-0.475864433771502;
S44 = -0.453779739730877 + I*0.891113880382175;
S45 = 0.425539901760686 + I*0.904939662082233;
S46 = 0.675307238199209 + I*0.737536530644928;
S51 = -0.648888777961263 + I*-0.760883272148848;
S52 = 0.435071652549708 + I*-0.900395833590797;
S53 = 0.641935794059796 + I*0.766758395001202;
S54 = 0.999121623133801 + I*-0.0419044411307172;
S55 = -0.527856701363024 + I*0.849333446195396;
S56 = 0.996563634827088 + I*0.0828306811527166;
S61 = -0.398973361537612 + I*-0.916962516563996;
S62 = 0.340344158048043 + I*-0.940300938041949;
S63 = -0.87264680219704 + I*0.488351879913737;
S64 = -0.975833175081741 + I*-0.218516851546714;
S65 = 0.800153921872378 + I*-0.599794715975601;
S66 = 0.913449004979901 + I*-0.406953210211233;

e1 = R11*z2x + R12*z2y + R13*z2z + R14*z4x + R15*z4y + R16*z4z - 1;
e2 = R21*z2x + R22*z2y + R23*z2z + R24*z4x + R25*z4y + R26*z4z - 1;
e3 = R31*z2x + R32*z2y + R33*z2z + R34*z4x + R35*z4y + R36*z4z - 1;
e4 = R41*z2x + R42*z2y + R43*z2z + R44*z4x + R45*z4y + R46*z4z - 1;
e5 = R51*z2x + R52*z2y + R53*z2z + R54*z4x + R55*z4y + R56*z4z - 1;
e6 = R61*z2x + R62*z2y + R63*z2z + R64*z4x + R65*z4y + R66*z4z - 1;

o1 = S11*z3x + S12*z3y + S13*z3z + S14*z5x + S15*z5y + S16*z5z - 1;
o2 = S21*z3x + S22*z3y + S23*z3z + S24*z5x + S25*z5y + S26*z5z - 1;
o3 = S31*z3x + S32*z3y + S33*z3z + S34*z5x + S35*z5y + S36*z5z - 1;
o4 = S41*z3x + S42*z3y + S43*z3z + S44*z5x + S45*z5y + S46*z5z - 1;
o5 = S51*z3x + S52*z3y + S53*z3z + S54*z5x + S55*z5y + S56*z5z - 1;
o6 = S61*z3x + S62*z3y + S63*z3z + S64*z5x + S65*z5y + S66*z5z - 1;

  f9 = z2x^2 + z2y^2 + z2z^2 -1;
  f11 = z3x^2 + z3y^2 + z3z^2 -1;
  f10 = z4x^2 + z4y^2 + z4z^2 -1;
  f12 = z5x^2 + z5y^2 + z5z^2 -1;
  f1 = z1x*z2x + z1y*z2y + z1z*z2z - c1;
  f6 = z2x*z3x + z2y*z3y + z2z*z3z - c2;
  f7 = z3x*z4x + z3y*z4y + z3z*z4z - c3;
  f8 = z4x*z5x + z4y*z5y + z4z*z5z - c4;
  f2 = z5x*z6x + z5y*z6y + z5z*z6z - c5;
  % form cross products
  x1x = z1y*z2z - z1z*z2y;
  x2x = z2y*z3z - z2z*z3y;
  x3x = z3y*z4z - z3z*z4y;
  x4x = z4y*z5z - z4z*z5y;
  x5x = z5y*z6z - z5z*z6y;
  x1y = z1z*z2x - z1x*z2z;
  x2y = z2z*z3x - z2x*z3z;
  x3y = z3z*z4x - z3x*z4z;
  x4y = z4z*z5x - z4x*z5z;
  x5y = z5z*z6x - z5x*z6z;
  x1z = z1x*z2y - z1y*z2x;
  x2z = z2x*z3y - z2y*z3x;
  x3z = z3x*z4y - z3y*z4x;
  x4z = z4x*z5y - z4y*z5x;
  x5z = z5x*z6y - z5y*z6x;
  % position
  f3 = a1*x1x + d2*z2x +
      a2*x2x + d3*z3x +
      a3*x3x + d4*z4x +
      a4*x4x + d5*z5x +
      a5*x5x - px;
  f4 = a1*x1y + d2*z2y +
      a2*x2y + d3*z3y +
      a3*x3y + d4*z4y +
      a4*x4y + d5*z5y +
      a5*x5y - py;
  f5 = a1*x1z + d2*z2z +
      a2*x2z + d3*z3z +
      a3*x3z + d4*z4z +
      a4*x4z + d5*z5z +
      a5*x5z - pz;

constant T11,T12,T13,T14,T15,T16;
constant U11,U12,U13,U14,U15,U16;

T11 = 0.668507861141858 + I*0.743705075679559;
T12 = -0.119234661210161 + I*-0.992866101529354;
T13 = -0.912774674816777 + I*-0.408463453705625;
T14 = -0.604233416891036 + I*-0.796807365623702;
T15 = 0.977088521950967 + I*-0.212833315699573;
T16 = 0.962808403756667 + I*-0.270185080371843;

U11 = 0.933690483565698 + I*-0.358081109385643;
U12 = 0.770694743347424 + I*0.637204529626594;
U13 = -0.396371327126715 + I*-0.91809028479328;
U14 = 0.542831114957737 + I*0.839841878351955;
U15 = -0.709510162936954 + I*0.704695202686365;
U16 = -0.180936235663792 + I*0.983494828976653;

E1 = T11*z2x + T12*z2y + T13*z2z + T14*z4x + T15*z4y + T16*z4z - 1;
E2 = U11*z2x + U12*z2y + U13*z2z + U14*z4x + U15*z4y + U16*z4z - 1;

O1 = U11*z3x + U12*z3y + U13*z3z + U14*z5x + U15*z5y + U16*z5z - 1;
O2 = T11*z3x + T12*z3y + T13*z3z + T14*z5x + T15*z5y + T16*z5z - 1;
