CONFIG
 UserHomotopy: 2;
END;
INPUT
  % joint 1 orientation (fixed)
  constant z1x,z1y,z1z;
  z1x=0; z1y=0; z1z=1;
  % link lengths
  constant a1,a2,a3,a4,a5;
  % link offsets
  constant d2,d3,d4,d5;
  % twist cosines
  constant c1,c2,c3,c4,c5;
  % endpoint position
  constant px,py,pz;
  % joint 6 orientation
  constant z6x,z6y,z6z;

  a1 = 0.40282466953766 + I*-0.915277163274533;
  a2 = -0.441132731217836 + I*-0.897441871904968;
  a3 = -0.779769296059636 + I*0.626066965206327;
  a4 = 0.729072696753179 + I*-0.684436266462442;
  a5 = 0.695171019668752 + I*-0.718844387480842;
  d2 = -0.459380161698167 + I*-0.888239757632007;
  d3 = 0.668737713881471 + I*0.743498399482194;
  d4 = -0.999466165089807 + I*-0.032670856136222;
  d5 = -0.34857474063187 + I*0.937280987854456;
  c1 = 0.635025374587385 + I*0.772491277381274;
  c2 = -0.779980017028727 + I*0.625804420754494;
  c3 = 0.41768199705475 + I*-0.908593280481622;
  c4 = -0.999990781765282 + I*-0.00429376110884451;
  c5 = 0.94468579013282 + I*-0.327976764300657;
  px = 0.294992145661207 + I*-0.95549967765468;
  py = 0.716114803848101 + I*-0.697982512466893;
  pz = 0.029910008436086 + I*0.999552595612334;
  z6x = 0.648134911847741 + I*0.761525532102582;
  z6y = 0.129553907279961 + I*-0.991572380166216;
  z6z = -0.822526507919616 + I*-0.568726774268244;

  variable_group z2x,z2y,z2z;
  variable_group z4x,z4y,z4z;
  variable_group z3x,z3y,z3z;
  variable_group z5x,z5y,z5z;

function f1;
function f2;
function f3;
function f4;
function f5;
function f6;
function f7;
function f8;
function f9;
function f10;
function f11;
function g12;

constant R11,R12,R13,R14,R15,R16;
constant R21,R22,R23,R24,R25,R26;
constant R31,R32,R33,R34,R35,R36;
constant R41,R42,R43,R44,R45,R46;
constant R51,R52,R53,R54,R55,R56;
constant R61,R62,R63,R64,R65,R66;

R11 = 0.628475031562079 + I*-0.777829759460927;
R12 = 0.594286009626391 + I*0.804253777586615;
R13 = 0.0375072061246302 + I*0.999296357187759;
R14 = 0.247061030867771 + I*-0.96899992106633;
R15 = -0.955154951865553 + I*-0.296106430066478;
R16 = 0.607033970007758 + I*0.794675883147728;
R21 = 0.84767116999197 + I*-0.530521995363476;
R22 = 0.0827880682886701 + I*-0.996567175733292;
R23 = -0.729835756849203 + I*-0.683622533291838;
R24 = 0.999635794471182 + I*-0.0269866339503356;
R25 = -0.999870497328777 + I*-0.0160931218694294;
R26 = -0.620789190013809 + I*-0.783977538939732;
R31 = 0.985416884356815 + I*0.17015746831834;
R32 = 0.909254609417829 + I*0.416240381573474;
R33 = 0.253895825059087 + I*0.967231570006669;
R34 = 0.61268012775272 + I*0.790330981966992;
R35 = -0.807055613794851 + I*0.590475432378195;
R36 = 0.223917050276132 + I*0.974608205688643;
R41 = 0.803934054697527 + I*-0.594718450779522;
R42 = 0.742136782549949 + I*-0.67024845839913;
R43 = -0.00475408615943945 + I*0.999988699268541;
R44 = 0.211408800225199 + I*0.97739772824953;
R45 = 0.940791220915732 + I*0.33898654641134;
R46 = -0.835728771062056 + I*0.549142441647981;
R51 = -0.957188517085601 + I*0.289465270385702;
R52 = 0.573745248349089 + I*0.819033814928811;
R53 = 0.629505888451337 + I*0.776995711960557;
R54 = 0.957100871848263 + I*0.289754932843765;
R55 = 0.982962827088586 + I*0.183804462845748;
R56 = -0.786613330634638 + I*-0.617445923193183;
R61 = 0.999064095572409 + I*-0.0432542823092109;
R62 = 0.764703422416629 + I*-0.644382398692185;
R63 = 0.373470730949371 + I*0.927641963865446;
R64 = -0.971249836707644 + I*0.238062501657392;
R65 = -0.292113122673288 + I*-0.956383774204718;
R66 = -0.0339003845786065 + I*-0.999425216774833;

constant S11,S12,S13,S14,S15,S16;
constant S21,S22,S23,S24,S25,S26;
constant S31,S32,S33,S34,S35,S36;
constant S41,S42,S43,S44,S45,S46;
constant S51,S52,S53,S54,S55,S56;
constant S61,S62,S63,S64,S65,S66;

S11 = -0.787983795357448 + I*-0.615695978754184;
S12 = -0.750859985701088 + I*-0.660461415885108;
S13 = -0.958976393081805 + I*0.283485938825565;
S14 = -0.984704195473435 + I*0.17423446104894;
S15 = 0.999989742076452 + I*-0.00452943063431095;
S16 = 0.546813597415813 + I*-0.837254375731281;
S21 = -0.999671434695349 + I*-0.0256324531432933;
S22 = 0.686463679811648 + I*0.72716409172858;
S23 = -0.618886450266475 + I*-0.785480465496477;
S24 = 0.420232168362214 + I*0.907416621334209;
S25 = -0.271584675113834 + I*-0.962414549060494;
S26 = 0.731170975243585 + I*-0.682194257496605;
S31 = -0.740395168344565 + I*-0.67217184907732;
S32 = -0.940090404170146 + I*0.340925258652409;
S33 = 0.162375475922201 + I*-0.986729043263164;
S34 = 0.883466952104657 + I*0.468493483987673;
S35 = 0.478384929974673 + I*-0.878150248404638;
S36 = 0.638548066495195 + I*0.769581942859399;
S41 = 0.803457814466115 + I*0.595361688701358;
S42 = 0.998904508883025 + I*0.0467951080046093;
S43 = -0.953921275694834 + I*-0.300056994214001;
S44 = -0.615201676605049 + I*-0.788369771809103;
S45 = 0.911080969925188 + I*-0.412227444792531;
S46 = -0.774378069849909 + I*-0.632723166112582;
S51 = -0.216923137230955 + I*0.976188686952415;
S52 = -0.811233717966551 + I*0.584722032109417;
S53 = 0.164442045552399 + I*0.986386746491731;
S54 = -0.942437504563939 + I*-0.334382341027896;
S55 = -0.809855489621501 + I*-0.586629428114478;
S56 = 0.693426520672072 + I*-0.720527348841545;
S61 = 0.722022370620155 + I*-0.691869710512067;
S62 = 0.996666181377663 + I*0.081587516802929;
S63 = 0.382716926693966 + I*0.923865657994671;
S64 = -0.927543275297096 + I*-0.373715764252909;
S65 = -0.132037461035693 + I*0.991244727039316;
S66 = 0.622761406670192 + I*-0.782411803567766;

z21 = R11*z2x + R12*z2y + R13*z2z - 1;
z41 = R14*z4x + R15*z4y + R16*z4z - 1;
z22 = R21*z2x + R22*z2y + R23*z2z - 1;
z42 = R24*z4x + R25*z4y + R26*z4z - 1;
z23 = R31*z2x + R32*z2y + R33*z2z - 1;
z43 = R34*z4x + R35*z4y + R36*z4z - 1;
z24 = R41*z2x + R42*z2y + R43*z2z - 1;
z44 = R44*z4x + R45*z4y + R46*z4z - 1;
z25 = R51*z2x + R52*z2y + R53*z2z - 1;
z45 = R54*z4x + R55*z4y + R56*z4z - 1;
z26 = R61*z2x + R62*z2y + R63*z2z - 1;
z46 = R64*z4x + R65*z4y + R66*z4z - 1;

z31 = S11*z3x + S12*z3y + S13*z3z - 1;
z51 = S14*z5x + S15*z5y + S16*z5z - 1;
z32 = S21*z3x + S22*z3y + S23*z3z - 1;
z52 = S24*z5x + S25*z5y + S26*z5z - 1;
z33 = S31*z3x + S32*z3y + S33*z3z - 1;
z53 = S34*z5x + S35*z5y + S36*z5z - 1;
z34 = S41*z3x + S42*z3y + S43*z3z - 1;
z54 = S44*z5x + S45*z5y + S46*z5z - 1;
z35 = S51*z3x + S52*z3y + S53*z3z - 1;
z55 = S54*z5x + S55*z5y + S56*z5z - 1;
z36 = S61*z3x + S62*z3y + S63*z3z - 1;
z56 = S64*z5x + S65*z5y + S66*z5z - 1;

  f9 = z2x^2 + z2y^2 + z2z^2 -1;
  f11 = z3x^2 + z3y^2 + z3z^2 -1;
  f10 = z4x^2 + z4y^2 + z4z^2 -1;
  f12 = z5x^2 + z5y^2 + z5z^2 -1;
  f1 = z1x*z2x + z1y*z2y + z1z*z2z - c1;
  f6 = z2x*z3x + z2y*z3y + z2z*z3z - c2;
  f7 = z3x*z4x + z3y*z4y + z3z*z4z - c3;
  f8 = z4x*z5x + z4y*z5y + z4z*z5z - c4;
  f2 = z5x*z6x + z5y*z6y + z5z*z6z - c5;
  % form cross products
  x1x = z1y*z2z - z1z*z2y;
  x2x = z2y*z3z - z2z*z3y;
  x3x = z3y*z4z - z3z*z4y;
  x4x = z4y*z5z - z4z*z5y;
  x5x = z5y*z6z - z5z*z6y;
  x1y = z1z*z2x - z1x*z2z;
  x2y = z2z*z3x - z2x*z3z;
  x3y = z3z*z4x - z3x*z4z;
  x4y = z4z*z5x - z4x*z5z;
  x5y = z5z*z6x - z5x*z6z;
  x1z = z1x*z2y - z1y*z2x;
  x2z = z2x*z3y - z2y*z3x;
  x3z = z3x*z4y - z3y*z4x;
  x4z = z4x*z5y - z4y*z5x;
  x5z = z5x*z6y - z5y*z6x;
  % position
  f3 = a1*x1x + d2*z2x +
      a2*x2x + d3*z3x +
      a3*x3x + d4*z4x +
      a4*x4x + d5*z5x +
      a5*x5x - px;
  f4 = a1*x1y + d2*z2y +
      a2*x2y + d3*z3y +
      a3*x3y + d4*z4y +
      a4*x4y + d5*z5y +
      a5*x5y - py;
  f5 = a1*x1z + d2*z2z +
      a2*x2z + d3*z3z +
      a3*x3z + d4*z4z +
      a4*x4z + d5*z5z +
      a5*x5z - pz;

constant T11,T12,T13,T14,T15,T16;
constant U11,U12,U13,U14,U15,U16;

T11 = -0.916636400703573 + I*-0.399722039553986;
T12 = -0.998783504438018 + I*0.0493103565441656;
T13 = -0.45157802106065 + I*-0.892231635224254;
T14 = -0.58343671773329 + I*0.812158602983805;
T15 = 0.984221078795155 + I*-0.176943120960665;
T16 = 0.721088968126173 + I*-0.692842478523605;

U11 = 0.72059042180128 + I*0.693360976698468;
U12 = 0.192231021295422 + I*-0.981349700388052;
U13 = 0.437041780782664 + I*-0.899441205332688;
U14 = -0.786398077008701 + I*-0.617720053484601;
U15 = 0.677686613100508 + I*-0.735350837644429;
U16 = -0.499815725385315 + I*-0.866131768645829;

Z21 = T11*z2x + T12*z2y + T13*z2z - 1;
Z22 = U11*z2x + U12*z2y + U13*z2z - 1;

Z41 = T14*z4x + T15*z4y + T16*z4z - 1;
Z42 = U14*z4x + U15*z4y + U16*z4z - 1;

Z31 = T11*z3x + T12*z3y + T13*z3z - 1;
Z32 = U11*z3x + U12*z3y + U13*z3z - 1;

Z51 = T14*z5x + T15*z5y + T16*z5z - 1;
Z52 = U14*z5x + U15*z5y + U16*z5z - 1;

pathvariable t;
parameter s;
s = t;

g1 = Z21*s + (1-s)*f1;
g2 = Z51*s + (1-s)*f2;

g3 = Z21*Z41*Z31*Z51*s + (1-s)*f3;
g4 = Z21*Z41*Z31*Z51*s + (1-s)*f4;
g5 = Z21*Z41*Z31*Z51*s + (1-s)*f5;

g6 = Z21*Z31*s + (1-s)*f6;
g7 = Z41*Z31*s + (1-s)*f7;
g8 = Z41*Z51*s + (1-s)*f8;

g9 = Z21*Z22*s + (1-s)*f9;
g10= Z41*Z42*s + (1-s)*f10;
g11= Z31*Z32*s + (1-s)*f11;
g12= Z51*Z52*s + (1-s)*f12;

END;

